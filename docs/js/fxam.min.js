(()=>{var t={731:t=>{t.exports={Ordered:class{constructor(){this.data={},this.index=[]}set(t,e){return void 0!==e?(this.data[t.id]&&this.index.splice(this.index.indexOf(t.id),1),this.index.splice(e,0,t.id)):this.data[t.id]||this.index.push(t.id),this.data[t.id]=t,this}get(t){return this.data[t]}list(){return this.index.map((t=>this.data[t]))}remove(t){return this.data[t]&&(this.index.splice(this.index.indexOf(t),1),delete this.data[t]),this}indexOf(t){for(let e=0;e<this.index.length;e++)if(this.data[this.index[e]]===t)return e;return-1}nth(t){return this.data[this.index[t]]}}}},675:(t,e,s)=>{"use strict";const{Ordered:i}=s(731);function r(t=0){return function(e){return e?(e>t&&(t=e),e):++t}}const n=r();class a{constructor(t={}){this.id=n(t.id),this.name=t.name,this.cost=t.cost||1,this.deps={},this.arts={},this.elem=t.elem}}const d=r();class h{constructor(t={}){this.id=d(t.id),this.name=t.name,this.feats={},this.elem=t.elem}cost(){return Object.values(this.feats).reduce(((t,e)=>t+e.cost),0)}addFeature(t,e=!1){return e?(delete t.arts[this.id],delete this.feats[t.id]):(t.arts[this.id]=this,this.feats[t.id]=t),this}hasFeature(t){return this.feats[t.id]===t}}t.exports={Project:class{constructor(){this.features=new i,this.artifacts=new i}addFeature(t={}){const e=new a(t);return this.features.set(e,t.index),e}addArtifact(t={}){const e=new h(t);return this.artifacts.set(e,t.index),e}getFeatures(){return this.features.list()}getArtifacts(){return this.artifacts.list()}link(t,e,s=!1){const i=this.features.get(t),r=this.artifacts.get(e);i&&r&&r.addFeature(i,s)}indexOf(t){if(t instanceof a)return this.features.indexOf(t);if(t instanceof h)return this.artifacts.indexOf(t);throw new Error("Don't know how to look for "+t)}},Feature:a,Artifact:h}}},e={};function s(i){var r=e[i];if(void 0!==r)return r.exports;var n=e[i]={exports:{}};return t[i](n,n.exports,s),n.exports}(()=>{"use strict";const{Project:t}=s(675);window.Project=t})()})();